#### 文件读写

在Python中，使用open()函数来打开文件。open()函数接受两个参数，第一个是文件名，第二个是打开文件的模式。常见的模式有：

'r': 只读模式，用于读取文件内容。
'w': 写入模式，用于写入文件内容。如果文件不存在，会创建一个新文件；如果文件已存在，会清空文件内容。
'a': 追加模式，用于在文件末尾添加内容。如果文件不存在，会创建一个新文件。
'b': 二进制模式，用于处理二进制文件，如图片、视频等。

```
# 以只读模式打开文件
file = open('example.txt', 'r') 
# 以写入模式打开文件（如果文件不存在则创建） 
file = open('example.txt', 'w') 
# 以追加模式打开文件（如果文件不存在则创建） 
file = open('example.txt', 'a') 
# 以二进制模式打开文件 
file = open('example.jpg', 'rb')
```

使用`read()`方法可以读取整个文件的内容。

```python
with open('example.txt', 'r') as file: 
    content = file.read() 
    print(content)
```

使用`readline()`方法可以逐行读取文件的内容。

```python
with open('example.txt', 'r') as file: 
    line = file.readline() 
    while line:
        print(line) 
        line = file.readline()
```

使用`readlines()`方法可以将文件的所有行读取到一个列表中。

```python
with open('example.txt', 'r') as file: 
    lines = file.readlines()
     for line in lines: 
        print(line)
```

使用`write()`方法可以向文件中写入指定内容。

```python
with open('example.txt', 'w') as file: 
    file.write('Hello, World!\n')
```

使用`writelines()`方法可以将多行内容写入文件。

```python
lines = ['Line 1\n', 'Line 2\n', 'Line 3\n'] 
with open('example.txt', 'w') as file: 
    file.writelines(lines)
```

文件对象是可迭代的，因此我们可以使用`for`循环逐行读取文件内容。

```python
with open('example.txt', 'r') as file: 
    for line in file: 
        print(line)
```

使用`with`语句打开文件，可以确保在文件使用完毕后自动关闭文件，避免资源泄漏。

```python
with open('example.txt', 'r') as file: 
    content = file.read() 
    print(content) # 文件自动关闭
```

在文件读写过程中，可能会出现异常，例如文件不存在或权限错误。因此，在操作文件时，最好使用异常处理来增强程序的健壮性。

```python
try: 
    with open('example.txt', 'r') as file: 
        content = file.read()
        print(content) 
except FileNotFoundError: 
    print('文件不存在！') 
except PermissionError: 
    print('无权限访问文件！') 
except Exception as e: 
    print(f'发生未知错误：{e}')
```

然使用`with`语句可以确保文件被正确关闭，但在某些情况下，可能需要手动关闭文件。

```python
file = open('example.txt', 'r') 
content = file.read() 
print(content)
file.close() # 手动关闭文件
```

在处理二进制文件时，打开文件时需要指定`'b'`模式。

```python
with open('example.jpg', 'rb') as file: 
    data = file.read() # 对二进制数据进行操作
```

在文件读写中，有时候需要移动文件指针的位置，可以使用`seek()`方法。

```python
with open('example.txt', 'r') as file: 
    content = file.read(10) # 读取前10个字符 
    print(content) 
    file.seek(0) # 移动文件指针到文件开头 
    content = file.read(5) # 再次读取前5个字符 
    print(content)
```

